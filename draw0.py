import matplotlib.pyplot as plt
import numpy as np

plt.rcParams['font.sans-serif'] = ['Arial']

colors = ["#000000", "#FF6600", "#A26B5E",
          "#9900FF", "#0000FF", "#00FF00",
          "#FF0000"]

labels_order = [4, 2, 3, 5, 0, 1, 6]
# Yang et al. [22] Malhi et al. [23] Kumar et al. [13] Cui et al. [16] Kamil et al. [6] Zhao et al. [18]
labels = ["Yang et al.[22]", "Malhi et al.[23]",
          "Kumar et al.[13]", "Cui et al.[16]",
          "Kamil et al.[6]", "Zhao et al.[18]",
          "Our Scheme"]

names = [
    "individual_sign",
    "individual_verify",
    "aggregate_verify",
]


def main0():
    x = [40, 80, 120, 160, 200, 240, 280, 320, 360, 400]
    # colors = ["#5B9BD5", "#ED7D31", "#A5A5A5",
    #           "#FFC000", "#4472C4", "#70AD47",
    #           "#255E91"]
    chart0 = np.array([
        [278.328, 275.448, 187.512, 47.916, 142.392, 48, 46.56],
        [556.656, 550.896, 375.024, 95.832, 284.784, 96, 93.12],
        [834.984, 826.344, 562.536, 143.748, 427.176, 144, 139.68],
        [1113.312, 1101.792, 750.048, 191.664, 569.568, 192, 186.24],
        [1391.64, 1377.24, 937.56, 239.58, 711.96, 240, 232.8],
        [1669.968, 1652.688, 1125.072, 287.496, 854.352, 288, 279.36],
        [1948.296, 1928.136, 1312.584, 335.412, 996.744, 336, 325.92],
        [2226.624, 2203.584, 1500.096, 383.328, 1139.136, 384, 372.48],
        [2504.952, 2479.032, 1687.608, 431.244, 1281.528, 432, 419.04],
        [2783.28, 2754.48, 1875.12, 479.16, 1423.92, 480, 465.6],
    ]).transpose()

    chart1 = np.array([
        [716.444, 713.564, 190.308, 140.952, 107.952, 185.988, 185.988],
        [1432.888, 1427.128, 380.616, 281.904, 215.904, 371.976, 371.976],
        [2149.332, 2140.692, 570.924, 422.856, 323.856, 557.964, 557.964],
        [2865.776, 2854.256, 761.232, 563.808, 431.808, 743.952, 743.952],
        [3582.22, 3567.82, 951.54, 704.76, 539.76, 929.94, 929.94],
        [4298.664, 4281.384, 1141.848, 845.712, 647.712, 1115.928, 1115.928],
        [5015.108, 4994.948, 1332.156, 986.664, 755.664, 1301.916, 1301.916],
        [5731.552, 5708.512, 1522.464, 1127.616, 863.616, 1487.904, 1487.904],
        [6447.996, 6422.076, 1712.772, 1268.568, 971.568, 1673.892, 1673.892],
        [7164.44, 7135.64, 1903.08, 1409.52, 1079.52, 1859.88, 1859.88],
    ]).transpose()

    chart2 = np.array([
        [548.004, 220.877, 14.34, 51.6798, 5.052, 50.2737, 3.7299],
        [1096.008, 429.121, 24.168, 101.0358, 7.848, 98.1897, 5.1699],
        [1644.012, 637.365, 33.996, 150.3918, 10.644, 146.1057, 6.6099],
        [2192.016, 845.609, 43.824, 199.7478, 13.44, 194.0217, 8.0499],
        [2740.02, 1053.853, 53.652, 249.1038, 16.236, 241.9377, 9.4899],
        [3288.024, 1262.097, 63.48, 298.4598, 19.032, 289.8537, 10.9299],
        [3836.028, 1470.341, 73.308, 347.8158, 21.828, 337.7697, 12.3699],
        [4384.032, 1678.585, 83.136, 397.1718, 24.624, 385.6857, 13.8099],
        [4932.036, 1886.829, 92.964, 446.5278, 27.42, 433.6017, 15.2499],
        [5480.04, 2095.073, 102.792, 495.8838, 30.216, 481.5177, 16.6899],
    ]).transpose()

    charts = [chart0, chart1, chart2]
    for fig, chart in enumerate(charts):
        for type in labels_order:
            line = chart[type]
            plt.plot(x, line, color=colors[type], marker="o", label=labels[type])
        plt.ylabel("Verification consumption (ms)")
        plt.xlabel("Number of messages")
        plt.legend()
        plt.savefig(names[fig] + ".pdf")
        plt.show()


def func0(fig, type, x):
    individual_sign = [[6.9582, 6.8862, 4.6878, 1.1979, 3.5598, 1.2, 1.164],
                       [0, 0, 0, 0, 0, 0, 0]]
    individual_verify = [[17.9111, 17.8391, 4.7577, 3.5238, 2.6988, 4.6497, 4.6497],
                         [0, 0, 0, 0, 0, 0, 0]]
    aggregate_verify = [[13.7001, 5.2061, 0.2457, 1.2339, 0.0699, 1.1979, 0.036],
                        [0, 12.633, 4.512, 2.3238, 2.256, 2.3577, 2.2899]]
    array = [individual_sign, individual_verify, aggregate_verify]
    return array[fig][0][type] * x + array[fig][1][type]


def main1():
    x = np.arange(40, 400, 40)
    for fig in range(3):
        for type in labels_order:
            y = func0(fig, type, x)
            plt.plot(x, y, color=colors[type], label=labels[type],
                     marker="d", markersize=2, linewidth=0.5)
        plt.ylabel("Verification consumption (ms)")
        plt.xlabel("Number of messages")
        plt.legend(edgecolor="k", fancybox=False, framealpha=1.0)
        plt.savefig(names[fig] + ".pdf")
        plt.show()


if __name__ == "__main__":
    main1()
